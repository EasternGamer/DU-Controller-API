function Controller(a,b,c)local d={}if a==nil then a=true end;if a then b=false;c=false end;if b==nil then b=false end;if c==nil then c=true end;local e,f=construct,system;local g=e.getWorldVelocity;local h=f.getAxisValue;local i=e.getMass;local j=e.getMaxBrake;local k=f.getArkTime;local function l()if c then return(h(3)+1)*0.5 else local m=h(3)if not a then return m else if m<0 then return 0 else return m end end end end;local function n()if b then return(h(4)+1)*0.5 elseif a then local m=-h(3)if m>0 then return m else return 0 end end;return 0 end;function d.getRawRoll()return h(0)end;function d.getRawPitch()return h(1)end;function d.getRawYaw()return h(2)end;function d.getRawThrottle()return l()end;function d.getRawBrake()return n()end;function d.getRawStrafe()return h(5)end;function d.getRawVertical()return h(6)end;function d.getRawAxis7()return h(7)end;function d.getRawAxis8()return h(8)end;function d.getRawAxis9()return h(9)end;local o={0,0,0,0.05,0,0,0,0,0}local p={h(0),h(1),h(2),l(),n(),h(5),h(6),h(7),h(8),h(9)}local q={0,0,0,0,0,0,0,0,0,0}local function r(s,t)if t>=1 then o[s]=0.999 elseif t<=0 then o[s]=0 else o[s]=t end end;function d.setRollDeadzone(u)r(0,u)end;function d.setPitchDeadzone(u)r(1,u)end;function d.setYawDeadzone(u)r(2,u)end;function d.setThrottleDeadzone(u)r(3,u)end;function d.setBrakeDeadzone(u)r(4,u)end;function d.setStafeDeadzone(u)r(5,u)end;function d.setVerticalDeadzone(u)r(6,u)end;function d.setAxis7Deadzone(u)r(7,u)end;function d.setAxis8Deadzone(u)r(8,u)end;function d.setAxis9Deadzone(u)r(9,u)end;local function v(t,w)if t<0 then return t<-w and(t+w)*1/(1-w)or 0 else return t>w and(t-w)*1/(1-w)or 0 end end;local function x(t,w)t=t*1/(1-w)if t<0 then return t>-1 and t or-1 else return t<1 and t or 1 end end;local function y(t,w)if c then return x(t,w)else return x(v(t,w),w)end end;local function z(A)A=A+1;local B=k()if B-q[A]>1/65 then q[A]=B;local C=h(A-1)local D=p[A]-C;if D<0.8 and D>-0.8 then newInput=v(C,o[A])p[A]=newInput;return newInput end end;return p[A]end;local function E(A,F)A=A+1;local B=k()if B-q[A]>1/65 then q[A]=B;local G=F()local D=G-p[A]if D<0.8 and D>-0.8 then G=y(G,o[A])p[A]=G;return G end end;return p[A]end;function d.getRollInput()return z(0)end;function d.getPitchInput()return z(1)end;function d.getYawInput()return z(2)end;function d.getThrottleInput()return E(3,l)end;function d.getBrakeInput()return E(4,n)end;function d.getStafeInput()return z(5)end;function d.getVerticalInput()return z(6)end;function d.getAxis7Input()return z(7)end;function d.getAxis8Input()return z(8)end;function d.getAxis9Input()return z(9)end;function d.getBrakeVectorUnpacked()local H=g()local I,J,K=H[1],H[2],H[3]local L=(I*I+J*J+K*K)^0.5;local M=j()/i()local N=-d.getBrakeInput()*M;return N*I/L,N*J/L,N*K/L end;function d.getBrakeVector()return{d.getBrakeVectorUnpacked()}end;return d end